!function(){"use strict";function e(e){if(!(e<0))return e<10?`0${e}`:e}function t(e,t){e.forEach((e=>e.classList.remove(t)))}function n(e,t){const n=window.innerWidth-document.body.clientWidth;clearTimeout(t),e.classList.add("show"),document.body.style.overflow="hidden",document.body.style.paddingRight=n+"px"}function o(e){e.classList.remove("show"),document.body.style.overflow="",document.body.style.paddingRight=""}var c=()=>{class e{constructor(e,t,n,o,c,i,s){this.img=e,this.alt=t,this.title=n,this.description=o,this.price=c,this.transfer=1.63,this.isActive=i,this.parent=document.querySelector(s)}transferUAHtoRUB(){return this.price*=this.transfer,this.price.toFixed()}render(){this.parent.innerHTML+=`<div class='menu__item ${this.isActive?"menu__item_active":""}'>\n                <img src=${this.img} alt=${this.alt}>\n                <h3 class="menu__item-subtitle">${this.title}</h3>\n                <div class="menu__item-descr">${this.description}</div>\n                    <div class="menu__item-divider"></div>\n                    <div class="menu__item-price">\n                        <div class="menu__item-cost">Цена:</div>\n                        <div class="menu__item-total"><span>${this.transferUAHtoRUB()}</span> руб/день</div>\n                    </div>\n                </div>`}}document.querySelector(".menu > .menu__field > .container").addEventListener("click",(e=>{const n=e.target;if(n&&n.classList.contains("menu__item")){const e=document.querySelectorAll(".menu__item");t(e,"menu__item_active"),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;e.forEach((e=>{e===t&&t.classList.add(n)}))}(e,n,"menu__item_active")}})),async function(e){try{const e=await fetch("http://localhost:3000/menu");if(200===e.status)return await e.json();throw console.log("You have an error: ",e.status),new Error("Error: ",e.status,err)}catch(e){throw console.log("You have an error",e),new Error("Error",e)}}().then((t=>{t.forEach((t=>new e(...Object.values(t),".menu > .menu__field > .container").render()))}))};window.addEventListener("DOMContentLoaded",(()=>{console.log("sctipt"),(t=>{const n=t;(()=>{const t=setInterval((function(){const{days:r,hours:a,minutes:l,seconds:d,endTime:u}=(e=>{const t=new Date,n=Date.parse(e)-t;let o,c,i,s;return n<=0?(o="00",c="00",i="00",s="00"):(o=Math.floor(n/864e5),c=Math.floor(n/36e5%24),i=Math.floor(n/6e4%60),s=Math.floor(n/1e3%60)),{days:o,hours:c,minutes:i,seconds:s,endTime:n}})(n);0===u&&clearInterval(t),o.textContent=e(r),c.textContent=e(a),i.textContent=e(l),s.textContent=e(d)}),1e3),o=document.querySelector("#days"),c=document.querySelector("#hours"),i=document.querySelector("#minutes"),s=document.querySelector("#seconds")})(),(()=>{const t=new Date(n),o=document.querySelector(".promotion__descr .day"),c=document.querySelector(".promotion__descr .month"),i=document.querySelector(".promotion__descr .time");o.textContent=t.getDate(),c.textContent=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][t.getMonth()],i.textContent=e(t.getHours())+":"+e(t.getMinutes())})()})("2023-06-04"),function(){const e=document.querySelector(".tabheader__items"),t=document.querySelectorAll(".tabheader__item"),n=document.querySelectorAll(".tabcontent");function o(){n.forEach((e=>e.style.display="none"))}function c(e,t){e.forEach((e=>{e.classList.remove(t)}))}e.addEventListener("click",(e=>{const i=e.target;var s;i&&i.classList.contains("tabheader__item")&&(o(),c(t,"tabheader__item_active"),i.classList.add("tabheader__item_active"),s=i,t.forEach(((e,t)=>{e===s&&(n[t].style.display="block")})))})),c(t,"tabheader__item_active"),o(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n[e].style.display="block",t[e].classList.add("tabheader__item_active")}()}(),(()=>{const e=document.querySelector(".modal"),t=document.documentElement;let c=setTimeout(n,5e5);window.addEventListener("click",(t=>function(t,i){const s=t.target;s===e?o(e):s&&s.classList.contains("btn__connect")&&n(e,c)}(t))),e.addEventListener("click",(t=>{t.target&&t.target.classList.contains("modal__close")&&o(e)})),window.addEventListener("keydown",(t=>{e.classList.contains("show")&&"Escape"===t.key&&o(e)})),window.addEventListener("scroll",(function o(){const i=Math.max(t.clientHeight,window.innerHeight,t.scrollHeight);t.clientHeight+scrollY>=i&&(n(e,c),window.removeEventListener("scroll",o))}))})(),c(),(()=>{const e=document.querySelectorAll("form"),t=document.querySelector(".modal"),c=document.querySelector(".modal__dialog");e.forEach((e=>{e.addEventListener("submit",(i=>{i.preventDefault();const s="Что-то пошло не так!",r=document.createElement("div");function a(e){r.innerHTML=`\n                    <div class="modal__content">\n                        <div class="modal__close">×</div>\n                        <div class="modal__title">${e}</div>\n                    </div>`}function l(){c.classList.remove("hide"),r.remove(),o(t)}const d=e.querySelectorAll("input"),u={};d.forEach((e=>{u[e.name]=e.value}));try{n(t),c.classList.add("hide"),r.classList.add("modal__dialog"),r.innerHTML='\n                    <div class="modal__content">\n                        <div class="modal__close">×</div>\n                        <div class="modal__title">\n                            <img style=\'width: 50px; height: 50px;\' src=\n                            /img/preloader.gif alt=\'preloader\'/>\n                        </div>\n                        </div>',t.append(r),async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;return(await fetch(e,{method:t,body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}})).json()}("http://localhost:3000/requests","POST",u,e).catch((e=>{throw a(s),setTimeout((()=>{l()}),3e3),new Error(`${s} ${e}`)})).then((()=>{e.reset(),a("Спасибо, скоро с Вами свяжутся!"),setTimeout((()=>{l()}),3e3)}))}catch(e){throw new Error("Ошибка отправки формы:",e)}}))}))})(),(()=>{const n=document.querySelector(".offer__slider"),o=document.querySelector(".offer__slider-wrapper"),c=document.querySelectorAll(".offer__slide"),i=document.querySelector(".offer__slider-prev"),s=document.querySelector(".offer__slider-next"),r=parseInt(window.getComputedStyle(c[0]).width),a=c.length;let l=1,d=0;const u=document.querySelector("#current");function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u.textContent=e(t)}function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const n=document.querySelectorAll(".dot");t(n,"dot_active"),n.forEach(((t,n)=>{n+1===e?t.classList.add("dot_active"):t.classList.remove("dot_active")}))}document.querySelector("#total").textContent=e(a),s.addEventListener("click",(()=>{l===a?(l=1,d=0):(l++,d+=r),o.style.transform=`translateX(${-d}px)`,_(l),m(l)})),i.addEventListener("click",(()=>{1===l?(d=r*(a-1),l=a):(l--,d+=-r),o.style.transform=`translateX(${-d}px)`,_(l),m(l)})),window.addEventListener("click",(e=>{const n=e.target;if(n&&n.classList.contains("dot")){const e=document.querySelectorAll(".dot");t(e,"dot_active"),n.classList.add("dot_active"),e.forEach(((e,t)=>{e.classList.contains("dot_active")&&(l=t+1,m(t+1),d=r*t,o.style.transform=`translateX(${-d}px)`)}))}})),function(){const e=document.createElement("div");e.classList.add("nav"),c.forEach(((t,n)=>{const o=document.createElement("div");o.classList.add("dot"),e.append(o)})),n.append(e),_()}(),m()})(),(()=>{const e=document.querySelectorAll(".calculating__choose_medium > input"),n=document.querySelector("#gender"),o=document.querySelector("#activity"),c=document.querySelector(".calculating__result > span"),i={gender:"Woman",height:"",weight:"",age:"",ratio:1.375};function s(e,n,o,c){const i=o.slice(5),s=e.querySelectorAll("div"),r=n.getAttribute(o);t(s,"calculating__choose-item_active"),n.classList.add("calculating__choose-item_active"),c[i]=r;for(let e in c)localStorage.setItem(e,c[e])}function r(e){if(function(e){for(let t in e)if(!e[t])return!1;return!0}(i)){const{weight:t,height:n,age:o,ratio:i}=e;let s=0;s="Man"===e.gender?(13.4*t+4.8*n-5.7*o+88.36)*i:(9.2*t+3.1*n-4.3*o+447.6)*i,c.textContent=s>0?s.toFixed():"Error < 0"}else c.textContent=0}!function(){for(let e in i)if("gender"===e||"ratio"===e){const t=document.querySelectorAll(`[data-${e}]`),n=localStorage.getItem(e);i[e]=n,t.forEach((t=>{t.getAttribute(`data-${e}`)===n?t.classList.add("calculating__choose-item_active"):t.classList.remove("calculating__choose-item_active")}))}}(),window.addEventListener("click",(e=>{const t=e.target;t.closest("#activity")&&t.classList.contains("calculating__choose-item")?s(o,t,"data-ratio",i):t.closest("#gender")&&t.classList.contains("calculating__choose-item")&&s(n,t,"data-gender",i),r(i)})),e.forEach((e=>{e.addEventListener("input",(e=>{const t=e.target,n=t.getAttribute("name"),o=t.value.replace(/\D/gi,"");t.value.match(/\D/)&&!o?t.style.border="2px solid red":t.style.border="none",t.value=o,i[n]=o,r(i)}))}))})()}))}();
//# sourceMappingURL=bundle.js.map